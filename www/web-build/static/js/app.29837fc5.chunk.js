(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{124:function(e,t,n){e.exports=n(125)},125:function(e,t,n){"use strict";n.r(t);var r=n(185),l=n(88);Object(l.default)({apiKey:"bridge",api:"http://localhost:9080/1/graphql"}),Object(r.default)(n(143).default)},143:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return k}));var r=n(35),l=n.n(r),c=n(5),i=n.n(c),s=n(17),a=n.n(s),o=(n(147),n(0)),u=n.n(o),d=n(8),f=n(73),j=n(21),b=n(54),x=n(37),h=n(123),y=n(4),m=n(105),g=n.n(m),p=n(27),O=n(121),v=n(2);function k(){return Object(v.jsx)(p.Provider,{storage:g.a,children:Object(v.jsx)(d.default,{style:{flex:1},children:Object(v.jsx)(O.default.Required,{children:Object(v.jsx)(h.NativeRouter,{children:Object(v.jsx)(y.Routes,{children:Object(v.jsx)(y.Route,{path:"/",element:Object(v.jsx)(w,{})})})})})})})}function w(){var e=u.a.useState([]),t=a()(e,2),n=t[0],r=t[1],c=u.a.useState(""),s=a()(c,2),o=s[0],b=s[1],x=u.a.useState(!1),h=a()(x,2),y=h[0],m=h[1],g=u.a.useCallback(i()((function*(){var e=(yield p.Qili.fetch({query:"{\n                me{\n                  accessTokens {\n                    name\n                    type\n                    createdAt\n                    updatedAt\n                    hiddenID\n                  }\n                }\n              }"})).me.accessTokens;r(e)})),[r]);return u.a.useEffect((function(){g()}),[]),Object(v.jsxs)(d.default,{style:{flex:1},children:[Object(v.jsxs)(d.default,{style:{padding:10},children:[Object(v.jsx)(d.default,{style:{alignItems:"center",marginBottom:20,marginTop:20},children:Object(v.jsx)(f.default,{onPress:function(e){return m(!0)},children:Object(v.jsx)(j.default,{style:{color:"blue"},children:"Generate Access Token"})})}),Object(v.jsx)(d.default,{style:{height:50,alignItems:"center"},children:!!o&&Object(v.jsxs)(j.default,{children:[" ",o]})}),n.map((function(e,t){var c=e.name,s=e.type,a=e.hiddenID,o=e.createdAt;return Object(v.jsxs)(d.default,{style:{flex:1,flexDirection:"row",marginBottom:10},children:[Object(v.jsxs)(j.default,{style:{flex:1},children:[c,": ",a]}),Object(v.jsx)(j.default,{style:{flex:1},children:o}),Object(v.jsx)(f.default,{style:{flex:1},onPress:i()((function*(){yield p.Qili.fetch({query:"mutation($type:String, $name:String!){\n                                    removeAccessToken(type:$type, name:$name)\n                                }",variables:{type:s,name:c}});var e=l()(n);e.splice(t,1),r(e)})),children:Object(v.jsx)(j.default,{style:{color:"blue"},children:"Remove"})})]},s+"-"+c)}))]}),Object(v.jsx)(d.default,{style:{flexGrow:1}}),!!y&&Object(v.jsx)(S,{style:{position:"absolute",bottom:0,width:"100%",padding:20,backgroundColor:"gray"},onCancel:function(e){return m(!1)},onSubmit:function(){var e=i()((function*(e){if(!n.find((function(t){return t.name==e}))){var t=(yield p.Qili.fetch({query:"mutation($type:String, $name:String!){\n                                generateAccessToken(type:$type, name:$name)\n                            }",variables:{name:e}})).generateAccessToken;b(t),g()}}));return function(t){return e.apply(this,arguments)}}()})]})}function S(e){var t=e.onCancel,n=e.onSubmit,r=e.style,l=u.a.useState(""),c=a()(l,2),i=c[0],s=c[1];return Object(v.jsxs)(d.default,{style:[{flex:1},r],children:[Object(v.jsx)(d.default,{style:{alignItems:"center",margin:10},children:Object(v.jsx)(j.default,{children:"Generate Access Token"})}),Object(v.jsxs)(d.default,{style:{flex:1,flexDirection:"row",margin:10},children:[Object(v.jsx)(j.default,{style:{width:100,textAlign:"right",padding:10},children:"name:"}),Object(v.jsx)(b.default,{style:{flexGrow:1,height:"auto",borderBottomColor:"white",borderBottomWidth:1},value:i,onChangeText:function(e){return s(e)}})]}),Object(v.jsxs)(d.default,{style:{flex:1,flexDirection:"row",margin:10},children:[Object(v.jsx)(d.default,{style:{flex:1,alignItems:"center"},children:Object(v.jsx)(x.default,{title:"cancel",onPress:function(e){return null==t?void 0:t()}})}),Object(v.jsx)(d.default,{style:{flex:1,alignItems:"center"},children:Object(v.jsx)(x.default,{title:"submit",onPress:function(e){return null==n?void 0:n(i)}})})]})]})}},147:function(e,t,n){var r=n(148),l=n(149);"string"===typeof(l=l.__esModule?l.default:l)&&(l=[[e.i,l,""]]);var c={insert:"head",singleton:!1};r(l,c);e.exports=l.locals||{}},149:function(e,t,n){(t=n(150)(!1)).push([e.i,"body{\r\n    width: 600px;\r\n    margin: auto;\r\n    border: 1px solid gray;\r\n    background: black;\r\n}\r\n#root{\r\n    background-color: white;\r\n}",""]),e.exports=t}},[[124,1,2]]]);
//# sourceMappingURL=app.29837fc5.chunk.js.map